# Java SDK

## 一、准备工作

### 1）获取SDK密钥信息

  - 获取 SDK 密钥信息，也即公钥（也即 PublicKey）、私钥（也即
    PrivateKey），可从 [API产品/API密钥](https://console.ucloud.cn/uapi/apikey) 获取，获取步骤详见：[如何获取公钥、私钥](usms/faq/1109)。

### 2）获取项目ID

  - 指当前账号的当前在用项目的项目ID，可从[资源统计](https://console.ucloud.cn/dashboard)获取当前的项目ID，获取步骤详见：[如何获取项目ID](usms/faq/1109)

### 3）申请短信签名

  - **国内短信**：国内短信发送的内容由短信签名、短信正文两部分组成；您可在[短信服务-控制台](https://console.ucloud.cn/usms)的**国内短信/短信签名**模块，自助申请短信签名；详细申请步骤详见：[如何申请短信签名](usms/guide/5003/303)
  - **国际短信**：国际短信可不填写短信签名；

### 4）申请短信模板

  - **国内短信**：国内短信发送的内容由短信签名、短信正文两部分组成；其中，短信正文通过调用短信模板获取；您可在[短信服务-控制台](https://console.ucloud.cn/usms)的**国内短信/短信签名**模块，自助申请短信模板；详细申请步骤详见：[如何申请短信模板](usms/guide/5003/305)
  - **国际短信**：您可在[短信服务-控制台](https://console.ucloud.cn/usms)的**国际短信/短信签名**模块，自助申请短信模板；详细申请步骤详见：[如何申请短信模板](usms/guide/5005/505#二、自助申请短信模板)

## 二、配置 SDK

### 1）安装 SDK

参考 UCloud SDK [快速开始](https://docs.ucloud.cn/opensdk-java/quickstart)，安装 SDK。


## 三、完整示例

```java
package cn.ucloud.example;

import cn.ucloud.common.pojo.Account;
import cn.ucloud.usms.client.DefaultUSMSClient;
import cn.ucloud.usms.client.USMSClient;
import cn.ucloud.usms.model.SendUSMSMessageParam;
import cn.ucloud.usms.model.SendUSMSMessageResult;
import cn.ucloud.usms.pojo.USMSConfig;

import java.util.ArrayList;
import java.util.List;

public class Main {
    public static void main(String []args)  {
        USMSClient client = new DefaultUSMSClient(new USMSConfig(
                new Account(
                        "…",
                        "…"
                )
        ));

        List<String> phoneNumbers = new ArrayList<>();
        phoneNumbers.add("…");
        phoneNumbers.add("…");
        String templateId = "UTA210***0501BD";

        SendUSMSMessageParam param = new SendUSMSMessageParam(phoneNumbers, templateId);
        param.setSigContent("...");
        param.setProjectId("...");

        List<String> templateParams = new ArrayList<>();
        templateParams.add("424242");
        param.setTemplateParams(templateParams);
        SendUSMSMessageResult result = null;
        try {
            result = client.sendUSMSMessage(param);
        } catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println(result);
    }
}
```
